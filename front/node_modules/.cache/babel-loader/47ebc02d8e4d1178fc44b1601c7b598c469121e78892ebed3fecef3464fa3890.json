{"ast":null,"code":"import { getUserList, getTopicList, auditTopic, checkNotTopicByTea } from \"./api.js\";\nimport departmentChoose from \"@/views/template/department-choose\";\nimport dict from \"@/views/template/dict\";\nexport default {\n  name: \"user-manage\",\n  components: {\n    departmentChoose,\n    dict\n  },\n  data() {\n    return {\n      selected: [\"编号\", \"姓名\", \"选择课题\", \"登录账号\", \"专业\", \"手机\", \"邮箱\", \"性别\", \"类型\", \"审核状态\", \"操作\"],\n      showFilterPanelFlag: false,\n      usingTutorialsModal: false,\n      height: 510,\n      selectRow: {},\n      showUser: false,\n      showType: \"0\",\n      loading: true,\n      reading: false,\n      importLoading: false,\n      loadingExport: true,\n      exportModalVisible: false,\n      importModalVisible: false,\n      drop: false,\n      selectCount: 0,\n      selectList: [],\n      searchForm: {\n        nickname: \"\",\n        departmentId: \"\",\n        pageNumber: 1,\n        pageSize: 20,\n        sort: \"createTime\",\n        order: \"desc\"\n      },\n      form: {},\n      columns: [{\n        title: \"编号\",\n        type: \"index\",\n        width: 80,\n        align: \"center\",\n        fixed: \"left\"\n      }, {\n        title: \"姓名\",\n        key: \"nickname\",\n        minWidth: 80,\n        sortable: true,\n        align: \"center\",\n        fixed: \"left\"\n      }, {\n        title: \"选择课题\",\n        key: \"topicName\",\n        minWidth: 120,\n        align: \"center\",\n        sortable: true\n      }, {\n        title: \"登录账号\",\n        key: \"username\",\n        minWidth: 120,\n        align: \"center\",\n        sortable: true\n      }, {\n        title: \"专业\",\n        key: \"departmentTitle\",\n        minWidth: 130,\n        align: \"center\",\n        sortable: true\n      }, {\n        title: \"手机\",\n        key: \"mobile\",\n        minWidth: 120,\n        align: \"center\",\n        sortable: true\n      }, {\n        title: \"邮箱\",\n        key: \"email\",\n        minWidth: 160,\n        align: \"center\",\n        sortable: true\n      }, {\n        title: \"性别\",\n        key: \"sex\",\n        width: 70,\n        align: \"center\"\n      }, {\n        title: \"类型\",\n        key: \"type\",\n        align: \"center\",\n        width: 100,\n        render: (h, params) => {\n          if (params.row.type == 1) {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#ff9900\"\n              }\n            }, \"管理员\")]);\n          } else {\n            return h(\"div\", [\"普通用户\"]);\n          }\n        }\n      }, {\n        title: \"审核状态\",\n        key: \"audit\",\n        align: \"center\",\n        width: 110,\n        render: (h, params) => {\n          if (params.row.audit == 1) {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#3CB371\"\n              }\n            }, \"审核通过\")]);\n          } else {\n            return h(\"div\", [h(\"span\", {\n              style: {\n                color: \"#ff9900\"\n              }\n            }, \"未审核\")]);\n          }\n        }\n      }, {\n        title: \"操作\",\n        key: \"action\",\n        width: 200,\n        align: \"center\",\n        fixed: \"right\",\n        render: (h, params) => {\n          return h(\"div\", [h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\",\n              icon: \"ios-create-outline\",\n              ghost: true,\n              disabled: params.row.audit\n            },\n            style: {\n              marginRight: \"5px\"\n            },\n            on: {\n              click: () => {\n                this.auditFx(params.row);\n              }\n            }\n          }, \"审核\"), h(\"Button\", {\n            props: {\n              type: \"primary\",\n              size: \"small\",\n              icon: \"ios-create-outline\",\n              ghost: true,\n              disabled: !params.row.audit\n            },\n            style: {\n              marginRight: \"5px\"\n            },\n            on: {\n              click: () => {\n                this.checkNotTopicFx(params.row);\n              }\n            }\n          }, \"驳回\")]);\n        }\n      }],\n      filename: \"用户数据\",\n      importTableData: [],\n      importColumns: [],\n      uploadfile: {\n        name: \"\"\n      },\n      data: [],\n      total: 0\n    };\n  },\n  methods: {\n    init() {\n      this.getUserList();\n      //this.getDataList();\n    },\n    handleSelectDep(v) {\n      this.searchForm.departmentId = v;\n    },\n    changePage(v) {\n      this.searchForm.pageNumber = v;\n      this.getUserList();\n      this.clearSelectAll();\n    },\n    changePageSize(v) {\n      this.searchForm.pageSize = v;\n      this.getUserList();\n    },\n    getUserList() {\n      this.loading = true;\n      getUserList(this.searchForm).then(res => {\n        this.loading = false;\n        if (res.success) {\n          this.data = res.result.records;\n          this.total = res.result.total;\n        }\n      });\n    },\n    getDataList() {\n      this.loading = true;\n      getTopicList(this.searchForm).then(res => {\n        this.loading = false;\n        if (res.success) {\n          this.data = res.result.records;\n          this.total = res.result.total;\n        }\n      });\n    },\n    checkNotTopicFx(e) {\n      var that = this;\n      checkNotTopicByTea({\n        id: e.id\n      }).then(res => {\n        if (res.success) {\n          this.$Message.success(\"驳回成功\");\n          that.getUserList();\n          // that.getDataList();\n        }\n      });\n    },\n    auditFx(e) {\n      var that = this;\n      auditTopic({\n        id: e.id\n      }).then(res => {\n        if (res.success) {\n          this.$Message.success(\"审核成功\");\n          that.getUserList();\n          // that.getDataList();\n        }\n      });\n    },\n    handleSearch() {\n      this.searchForm.pageNumber = 1;\n      this.searchForm.pageSize = 20;\n      this.getUserList();\n    },\n    handleReset() {\n      this.$refs.searchForm.resetFields();\n      this.searchForm.pageNumber = 1;\n      this.searchForm.pageSize = 10;\n      this.$refs.dep.clearSelect();\n      this.searchForm.departmentId = \"\";\n      this.getUserList();\n    },\n    changeSort(e) {\n      this.searchForm.sort = e.key;\n      this.searchForm.order = e.order;\n      if (e.order == \"normal\") {\n        this.searchForm.order = \"\";\n      }\n      this.getUserList();\n    },\n    beforeUploadImport(file) {\n      this.uploadfile = file;\n      const fileExt = file.name.split(\".\").pop().toLocaleLowerCase();\n      if (fileExt == \"xlsx\" || fileExt == \"xls\") {\n        this.readFile(file);\n        this.file = file;\n      } else {\n        this.$Message.error(\"不是Excel文件\");\n      }\n      return false;\n    },\n    clearImportData() {\n      this.importTableData = [];\n      this.importColumns = [];\n      this.uploadfile = {};\n    },\n    showSelect(e) {\n      this.selectList = e;\n      this.selectCount = e.length;\n    },\n    clearSelectAll() {\n      this.$refs.table.selectAll(false);\n    },\n    rowClick(row, index) {\n      this.selectRow = row;\n    },\n    rowClassName(row, index) {\n      if (row.id == this.selectRow.id) {\n        return \"rowClassNameColor\";\n      }\n      return \"\";\n    }\n  },\n  mounted() {\n    this.height = window.innerHeight - this.$refs.table.$el.offsetTop - 160;\n    this.init();\n    this.mycolumns = this.columns;\n    let showcolumns = [];\n    for (var i = 0; i < this.selected.length; i++) {\n      var item = this.selected[i];\n      for (var j = 0; j < this.columns.length; j++) {\n        if (this.columns[j].title == item) {\n          showcolumns.push(this.columns[j]);\n        }\n      }\n    }\n    this.columns = showcolumns;\n  },\n  watch: {\n    selected: function (newcolumns) {\n      let showcolumns = [];\n      for (var i = 0; i < this.mycolumns.length; i++) {\n        var item = this.mycolumns[i];\n        if (item.title == undefined) showcolumns.push(item);else if (newcolumns.includes(item.title)) showcolumns.push(item);\n      }\n      this.columns = showcolumns;\n    }\n  }\n};","map":{"version":3,"names":["getUserList","getTopicList","auditTopic","checkNotTopicByTea","departmentChoose","dict","name","components","data","selected","showFilterPanelFlag","usingTutorialsModal","height","selectRow","showUser","showType","loading","reading","importLoading","loadingExport","exportModalVisible","importModalVisible","drop","selectCount","selectList","searchForm","nickname","departmentId","pageNumber","pageSize","sort","order","form","columns","title","type","width","align","fixed","key","minWidth","sortable","render","h","params","row","style","color","audit","props","size","icon","ghost","disabled","marginRight","on","click","auditFx","checkNotTopicFx","filename","importTableData","importColumns","uploadfile","total","methods","init","handleSelectDep","v","changePage","clearSelectAll","changePageSize","then","res","success","result","records","getDataList","e","that","id","$Message","handleSearch","handleReset","$refs","resetFields","dep","clearSelect","changeSort","beforeUploadImport","file","fileExt","split","pop","toLocaleLowerCase","readFile","error","clearImportData","showSelect","length","table","selectAll","rowClick","index","rowClassName","mounted","window","innerHeight","$el","offsetTop","mycolumns","showcolumns","i","item","j","push","watch","newcolumns","undefined","includes"],"sources":["src/views/topic/topic/audit.vue"],"sourcesContent":["<template>\r\n    <div class=\"search\">\r\n        <Card>\r\n            <Row>\r\n                <Form ref=\"searchForm\" :model=\"searchForm\" inline :label-width=\"40\">\r\n                    <Form-item label=\"姓名\" prop=\"nickname\">\r\n                        <Input type=\"text\" v-model=\"searchForm.nickname\" clearable placeholder=\"搜索姓名\" style=\"width: 160px\" />\r\n                    </Form-item>\r\n                    <Form-item label=\"专业\" prop=\"department\">\r\n                        <department-choose @on-change=\"handleSelectDep\" placeholder=\"选择专业\" style=\"width: 160px\" ref=\"dep\"></department-choose>\r\n                    </Form-item>\r\n                    <Form-item style=\"margin-left:10px;\" class=\"br\">\r\n                        <Button @click=\"handleSearch\" type=\"primary\" icon=\"ios-search\" ghost shape=\"circle\" size=\"small\">搜索</Button>\r\n                        <Button @click=\"handleReset\" type=\"warning\" ghost shape=\"circle\" icon=\"md-refresh\" size=\"small\">重置</Button>\r\n                        <!-- <Button @click=\"add\" type=\"info\" icon=\"md-add\" ghost shape=\"circle\" size=\"small\">添加</Button>\r\n                        <Button @click=\"importModalVisible=true\" type=\"success\" icon=\"md-paper-plane\" ghost shape=\"circle\" size=\"small\">导入</Button>\r\n                        <Button @click=\"excelData\" type=\"success\" icon=\"md-paper-plane\" ghost shape=\"circle\" size=\"small\">导出</Button> -->\r\n                    </Form-item>\r\n                        <Form-item style=\"position:fixed;right:50px;top:130px\">\r\n                            <Button type=\"info\" @click=\"showFilterPanelFlag = !showFilterPanelFlag\" class=\"showFilterPanelFlag\" icon=\"md-settings\" size=\"small\" ghost>\r\n                                列筛选</Button>\r\n                            <Button type=\"warning\" @click=\"usingTutorialsModal = true\" class=\"showFilterPanelFlag\" icon=\"ios-help-circle-outline\" size=\"small\" ghost>\r\n                                使用教程</Button>\r\n                            <Modal v-model=\"usingTutorialsModal\" title=\"使用教程\">\r\n                                <p>1.XXXXXXXXXXXXXXXXXXXXXXXX</p>\r\n                                <p>2.XXXXXXXXXXXXXXXXXXXXXXXX</p>\r\n                                <p>3.XXXXXXXXXXXXXXXXXXXXXXXX</p>\r\n                            </Modal>\r\n                        </Form-item>\r\n                </Form>\r\n            </Row>\r\n            <Row class=\"operation\" style=\"position:relative;\">\r\n                <transition>\r\n                    <div v-show=\"showFilterPanelFlag\" class=\"filter-panel\">\r\n                        <CheckboxGroup v-model=\"selected\">\r\n                            <div v-for=\"item in mycolumns\" :key=\"item.key\">\r\n                                <Checkbox :label=\"item.title\" style=\"margin: 2px 5px\"></Checkbox>\r\n                            </div>\r\n                        </CheckboxGroup>\r\n                    </div>\r\n                </transition>\r\n            </Row>\r\n            <Row>\r\n                <Table :loading=\"loading\" border stripe :height=\"height\" :columns=\"columns\" :data=\"data\" sortable=\"custom\" @on-sort-change=\"changeSort\" @on-selection-change=\"showSelect\" ref=\"table\" @on-row-click=\"rowClick\" :row-class-name=\"rowClassName\"></Table>\r\n            </Row>\r\n            <Row type=\"flex\" justify=\"end\" class=\"page\">\r\n                <Page :current=\"searchForm.pageNumber\" :total=\"total\" :page-size=\"searchForm.pageSize\" @on-change=\"changePage\" @on-page-size-change=\"changePageSize\" :page-size-opts=\"[20,30,50]\" size=\"small\" show-total show-elevator show-sizer></Page>\r\n            </Row>\r\n        </Card>\r\n        <Drawer title=\"导入数据\" closable v-model=\"importModalVisible\" width=\"1000\">\r\n            <div style=\"display:flex;justify-content: space-between;align-items: center;\">\r\n                <Upload action :before-upload=\"beforeUploadImport\" accept=\".xls, .xlsx\">\r\n                    <Button :loading=\"reading\" icon=\"ios-cloud-upload-outline\" style=\"margin-right:10px\">上传Excel文件</Button>\r\n                    <span v-if=\"uploadfile.name\">当前选择文件：{{ uploadfile.name }}</span>\r\n                </Upload>\r\n                <Button @click=\"clearImportData\" icon=\"md-trash\">清空数据</Button>\r\n            </div>\r\n            <Table :columns=\"importColumns\" border :height=\"height\" :data=\"importTableData\" ref=\"importTable\"></Table>\r\n            <div class=\"drawer-footer\">\r\n                <div style=\"position:absolute;right:15px;display: inline-block\">\r\n                    <Button @click=\"importModalVisible=false\">关闭</Button>\r\n                    <Button :loading=\"importLoading\" :disabled=\"importTableData.length<=0\" @click=\"importData\" style=\"margin-left:8px\" type=\"primary\">\r\n                        确认导入\r\n                        <span v-if=\"importTableData.length>0\">{{importTableData.length}} 条数据</span>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n        </Drawer>\r\n        <addEdit :data=\"form\" :type=\"showType\" v-model=\"showUser\" @on-submit=\"getUserList\" />\r\n    </div>\r\n    </template>\r\n    \r\n    <script>\r\n    import {\r\n        getUserList,\r\n        getTopicList,\r\n        auditTopic,\r\n        checkNotTopicByTea,\r\n    } from \"./api.js\";\r\n    import departmentChoose from \"@/views/template/department-choose\";\r\n    import dict from \"@/views/template/dict\";\r\n    export default {\r\n        name: \"user-manage\",\r\n        components: {\r\n            departmentChoose,\r\n            dict\r\n        },\r\n        data() {\r\n            return {\r\n                selected: [\r\n                    \"编号\",\r\n                    \"姓名\",\r\n                    \"选择课题\",\r\n                    \"登录账号\",\r\n                    \"专业\",\r\n                    \"手机\",\r\n                    \"邮箱\",\r\n                    \"性别\",\r\n                    \"类型\",\r\n                    \"审核状态\",\r\n                    \"操作\",\r\n                ],\r\n                showFilterPanelFlag: false,\r\n                usingTutorialsModal: false,\r\n                height: 510,\r\n                selectRow: {},\r\n                showUser: false,\r\n                showType: \"0\",\r\n                loading: true,\r\n                reading: false,\r\n                importLoading: false,\r\n                loadingExport: true,\r\n                exportModalVisible: false,\r\n                importModalVisible: false,\r\n                drop: false,\r\n                selectCount: 0,\r\n                selectList: [],\r\n                searchForm: {\r\n                    nickname: \"\",\r\n                    departmentId: \"\",\r\n                    pageNumber: 1,\r\n                    pageSize: 20,\r\n                    sort: \"createTime\",\r\n                    order: \"desc\"\r\n                },\r\n                form: {},\r\n                columns: [{\r\n                        title: \"编号\",\r\n                        type: \"index\",\r\n                        width: 80,\r\n                        align: \"center\",\r\n                        fixed: \"left\"\r\n                    },\r\n                    {\r\n                        title: \"姓名\",\r\n                        key: \"nickname\",\r\n                        minWidth: 80,\r\n                        sortable: true,\r\n                        align: \"center\",\r\n                        fixed: \"left\"\r\n                    },\r\n                    {\r\n                        title: \"选择课题\",\r\n                        key: \"topicName\",\r\n                        minWidth: 120,\r\n                        align: \"center\",\r\n                        sortable: true\r\n                    },\r\n                    {\r\n                        title: \"登录账号\",\r\n                        key: \"username\",\r\n                        minWidth: 120,\r\n                        align: \"center\",\r\n                        sortable: true\r\n                    },\r\n                    {\r\n                        title: \"专业\",\r\n                        key: \"departmentTitle\",\r\n                        minWidth: 130,\r\n                        align: \"center\",\r\n                        sortable: true\r\n                    },\r\n                    {\r\n                        title: \"手机\",\r\n                        key: \"mobile\",\r\n                        minWidth: 120,\r\n                        align: \"center\",\r\n                        sortable: true\r\n                    },\r\n                    {\r\n                        title: \"邮箱\",\r\n                        key: \"email\",\r\n                        minWidth: 160,\r\n                        align: \"center\",\r\n                        sortable: true\r\n                    },\r\n                    {\r\n                        title: \"性别\",\r\n                        key: \"sex\",\r\n                        width: 70,\r\n                        align: \"center\"\r\n                    },\r\n                    {\r\n                        title: \"类型\",\r\n                        key: \"type\",\r\n                        align: \"center\",\r\n                        width: 100,\r\n                        render: (h, params) => {\r\n                            if (params.row.type == 1) {\r\n                                return h(\"div\", [\r\n                                    h(\r\n                                        \"span\", {\r\n                                            style: {\r\n                                                color: \"#ff9900\",\r\n                                            },\r\n                                        },\r\n                                        \"管理员\"\r\n                                    ),\r\n                                ]);\r\n                            } else {\r\n                                return h(\"div\", [\r\n                                    \"普通用户\"\r\n                                ]);\r\n                            }\r\n                        },\r\n                    },\r\n                    {\r\n                        title: \"审核状态\",\r\n                        key: \"audit\",\r\n                        align: \"center\",\r\n                        width: 110,\r\n                        render: (h, params) => {\r\n                            if (params.row.audit == 1) {\r\n                                return h(\"div\", [\r\n                                    h(\r\n                                        \"span\", {\r\n                                            style: {\r\n                                                color: \"#3CB371\",\r\n                                            },\r\n                                        },\r\n                                        \"审核通过\"\r\n                                    ),\r\n                                ]);\r\n                            } else {\r\n                                return h(\"div\", [\r\n                                    h(\r\n                                        \"span\", {\r\n                                            style: {\r\n                                                color: \"#ff9900\",\r\n                                            },\r\n                                        },\r\n                                        \"未审核\"\r\n                                    ),\r\n                                ]);\r\n                            }\r\n                        },\r\n                    },\r\n                    {\r\n                        title: \"操作\",\r\n                        key: \"action\",\r\n                        width: 200,\r\n                        align: \"center\",\r\n                        fixed: \"right\",\r\n                        render: (h, params) => {\r\n                            return h(\"div\", [\r\n                            h(\r\n                                \"Button\", {\r\n                                    props: {\r\n                                        type: \"primary\",\r\n                                        size: \"small\",\r\n                                        icon: \"ios-create-outline\",\r\n                                        ghost: true,\r\n                                        disabled: params.row.audit\r\n                                    },\r\n                                    style: {\r\n                                        marginRight: \"5px\"\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.auditFx(params.row);\r\n                                        }\r\n                                    }\r\n                                },\r\n                                \"审核\"\r\n                            ),\r\n                            h(\r\n                                \"Button\", {\r\n                                    props: {\r\n                                        type: \"primary\",\r\n                                        size: \"small\",\r\n                                        icon: \"ios-create-outline\",\r\n                                        ghost: true,\r\n                                        disabled: !params.row.audit\r\n                                    },\r\n                                    style: {\r\n                                        marginRight: \"5px\"\r\n                                    },\r\n                                    on: {\r\n                                        click: () => {\r\n                                            this.checkNotTopicFx(params.row);\r\n                                        }\r\n                                    }\r\n                                },\r\n                                \"驳回\"\r\n                            ),\r\n                            ]);\r\n                        }\r\n                    }\r\n                ],\r\n                filename: \"用户数据\",\r\n                importTableData: [],\r\n                importColumns: [],\r\n                uploadfile: {\r\n                    name: \"\"\r\n                },\r\n                data: [],\r\n                total: 0\r\n            };\r\n        },\r\n        methods: {\r\n            init() {\r\n                this.getUserList();\r\n                //this.getDataList();\r\n            },\r\n            handleSelectDep(v) {\r\n                this.searchForm.departmentId = v;\r\n            },\r\n            changePage(v) {\r\n                this.searchForm.pageNumber = v;\r\n                this.getUserList();\r\n                this.clearSelectAll();\r\n            },\r\n            changePageSize(v) {\r\n                this.searchForm.pageSize = v;\r\n                this.getUserList();\r\n            },\r\n            getUserList() {\r\n                this.loading = true;\r\n                getUserList(this.searchForm).then(res => {\r\n                    this.loading = false;\r\n                    if (res.success) {\r\n                        this.data = res.result.records;\r\n                        this.total = res.result.total;\r\n                    }\r\n                });\r\n            },\r\n            getDataList() {\r\n                this.loading = true;\r\n                getTopicList(this.searchForm).then(res => {\r\n                    this.loading = false;\r\n                    if (res.success) {\r\n                        this.data = res.result.records;\r\n                        this.total = res.result.total;\r\n                    }\r\n                });\r\n            },\r\n            checkNotTopicFx(e) {\r\n                var that = this;\r\n                checkNotTopicByTea({\r\n                    id: e.id\r\n                }).then(res => {\r\n                    if (res.success) {\r\n                        this.$Message.success(\"驳回成功\");\r\n                        that.getUserList();\r\n                        // that.getDataList();\r\n                    }\r\n                })\r\n            },\r\n            auditFx(e) {\r\n                var that = this;\r\n                auditTopic({\r\n                    id: e.id\r\n                }).then(res => {\r\n                    if (res.success) {\r\n                        this.$Message.success(\"审核成功\");\r\n                        that.getUserList();\r\n                        // that.getDataList();\r\n                    }\r\n                })\r\n            },\r\n            handleSearch() {\r\n                this.searchForm.pageNumber = 1;\r\n                this.searchForm.pageSize = 20;\r\n                this.getUserList();\r\n            },\r\n            handleReset() {\r\n                this.$refs.searchForm.resetFields();\r\n                this.searchForm.pageNumber = 1;\r\n                this.searchForm.pageSize = 10;\r\n                this.$refs.dep.clearSelect();\r\n                this.searchForm.departmentId = \"\";\r\n                this.getUserList();\r\n            },\r\n            changeSort(e) {\r\n                this.searchForm.sort = e.key;\r\n                this.searchForm.order = e.order;\r\n                if (e.order == \"normal\") {\r\n                    this.searchForm.order = \"\";\r\n                }\r\n                this.getUserList();\r\n            },\r\n            beforeUploadImport(file) {\r\n                this.uploadfile = file;\r\n                const fileExt = file.name\r\n                    .split(\".\")\r\n                    .pop()\r\n                    .toLocaleLowerCase();\r\n                if (fileExt == \"xlsx\" || fileExt == \"xls\") {\r\n                    this.readFile(file);\r\n                    this.file = file;\r\n                } else {\r\n                    this.$Message.error(\"不是Excel文件\");\r\n                }\r\n                return false;\r\n            },\r\n            clearImportData() {\r\n                this.importTableData = [];\r\n                this.importColumns = [];\r\n                this.uploadfile = {};\r\n            },\r\n            showSelect(e) {\r\n                this.selectList = e;\r\n                this.selectCount = e.length;\r\n            },\r\n            clearSelectAll() {\r\n                this.$refs.table.selectAll(false);\r\n            },\r\n            rowClick(row, index) {\r\n                this.selectRow = row;\r\n            },\r\n            rowClassName(row, index) {\r\n                if (row.id == this.selectRow.id) {\r\n                    return \"rowClassNameColor\";\r\n                }\r\n                return \"\";\r\n            },\r\n        },\r\n        mounted() {\r\n            this.height = window.innerHeight - this.$refs.table.$el.offsetTop - 160;\r\n            this.init();\r\n            this.mycolumns = this.columns;\r\n            let showcolumns = [];\r\n            for (var i = 0; i < this.selected.length; i++) {\r\n                var item = this.selected[i];\r\n                for (var j = 0; j < this.columns.length; j++) {\r\n                    if (this.columns[j].title == item) {\r\n                        showcolumns.push(this.columns[j]);\r\n                    }\r\n                }\r\n            }\r\n            this.columns = showcolumns;\r\n        },\r\n        watch: {\r\n            selected: function (newcolumns) {\r\n                let showcolumns = [];\r\n                for (var i = 0; i < this.mycolumns.length; i++) {\r\n                    var item = this.mycolumns[i];\r\n                    if (item.title == undefined) showcolumns.push(item);\r\n                    else if (newcolumns.includes(item.title)) showcolumns.push(item);\r\n                }\r\n                this.columns = showcolumns;\r\n            },\r\n        }\r\n    };\r\n    </script>\r\n    \r\n    <style lang=\"less\">\r\n    \r\n    .search {\r\n        .operation {\r\n            margin-bottom: 2vh;\r\n        }\r\n    \r\n        .select-count {\r\n            font-weight: 600;\r\n            color: #40a9ff;\r\n        }\r\n    \r\n        .select-clear {\r\n            margin-left: 10px;\r\n        }\r\n    \r\n        .page {\r\n            margin-top: 2vh;\r\n        }\r\n    \r\n        .drop-down {\r\n            margin-left: 5px;\r\n        }\r\n    }\r\n    \r\n    .filter-panel {\r\n        width: 166px;\r\n        min-height: 120px;\r\n        height: 200px;\r\n        position: absolute;\r\n        background-color: white;\r\n        z-index: 9999;\r\n        margin-left: 1px;\r\n        overflow-y: scroll;\r\n        border: 1px solid blue;\r\n        top: 35px;\r\n        right: 10px;\r\n    }\r\n    \r\n    .openSearch {\r\n        position: absolute;\r\n        right: 240px;\r\n    }\r\n    \r\n    .openTip {\r\n        position: absolute;\r\n        right: 130px;\r\n    }\r\n    .showFilterPanelFlag {\r\n        position: static !important;\r\n        right: 10px;\r\n        margin-right: 10px;\r\n    }\r\n    .ivu-table td {\r\n        height: 38px !important;\r\n    }\r\n    \r\n    .ivu-table-cell-with-expand {\r\n        height: 38px !important;\r\n        line-height: 38px !important;\r\n    }\r\n    \r\n    .ivu-table .rowClassNameColor td {\r\n        background-color: #b0b3b6 !important;\r\n        color: #ffffff !important;\r\n    }\r\n    </style>\r\n    "],"mappings":"AAyEA,SACAA,WAAA,EACAC,YAAA,EACAC,UAAA,EACAC,kBAAA,QACA;AACA,OAAAC,gBAAA;AACA,OAAAC,IAAA;AACA;EACAC,IAAA;EACAC,UAAA;IACAH,gBAAA;IACAC;EACA;EACAG,KAAA;IACA;MACAC,QAAA,GACA,MACA,MACA,QACA,QACA,MACA,MACA,MACA,MACA,MACA,QACA,KACA;MACAC,mBAAA;MACAC,mBAAA;MACAC,MAAA;MACAC,SAAA;MACAC,QAAA;MACAC,QAAA;MACAC,OAAA;MACAC,OAAA;MACAC,aAAA;MACAC,aAAA;MACAC,kBAAA;MACAC,kBAAA;MACAC,IAAA;MACAC,WAAA;MACAC,UAAA;MACAC,UAAA;QACAC,QAAA;QACAC,YAAA;QACAC,UAAA;QACAC,QAAA;QACAC,IAAA;QACAC,KAAA;MACA;MACAC,IAAA;MACAC,OAAA;QACAC,KAAA;QACAC,IAAA;QACAC,KAAA;QACAC,KAAA;QACAC,KAAA;MACA,GACA;QACAJ,KAAA;QACAK,GAAA;QACAC,QAAA;QACAC,QAAA;QACAJ,KAAA;QACAC,KAAA;MACA,GACA;QACAJ,KAAA;QACAK,GAAA;QACAC,QAAA;QACAH,KAAA;QACAI,QAAA;MACA,GACA;QACAP,KAAA;QACAK,GAAA;QACAC,QAAA;QACAH,KAAA;QACAI,QAAA;MACA,GACA;QACAP,KAAA;QACAK,GAAA;QACAC,QAAA;QACAH,KAAA;QACAI,QAAA;MACA,GACA;QACAP,KAAA;QACAK,GAAA;QACAC,QAAA;QACAH,KAAA;QACAI,QAAA;MACA,GACA;QACAP,KAAA;QACAK,GAAA;QACAC,QAAA;QACAH,KAAA;QACAI,QAAA;MACA,GACA;QACAP,KAAA;QACAK,GAAA;QACAH,KAAA;QACAC,KAAA;MACA,GACA;QACAH,KAAA;QACAK,GAAA;QACAF,KAAA;QACAD,KAAA;QACAM,MAAA,EAAAA,CAAAC,CAAA,EAAAC,MAAA;UACA,IAAAA,MAAA,CAAAC,GAAA,CAAAV,IAAA;YACA,OAAAQ,CAAA,SACAA,CAAA,CACA;cACAG,KAAA;gBACAC,KAAA;cACA;YACA,GACA,KACA,EACA;UACA;YACA,OAAAJ,CAAA,SACA,OACA;UACA;QACA;MACA,GACA;QACAT,KAAA;QACAK,GAAA;QACAF,KAAA;QACAD,KAAA;QACAM,MAAA,EAAAA,CAAAC,CAAA,EAAAC,MAAA;UACA,IAAAA,MAAA,CAAAC,GAAA,CAAAG,KAAA;YACA,OAAAL,CAAA,SACAA,CAAA,CACA;cACAG,KAAA;gBACAC,KAAA;cACA;YACA,GACA,MACA,EACA;UACA;YACA,OAAAJ,CAAA,SACAA,CAAA,CACA;cACAG,KAAA;gBACAC,KAAA;cACA;YACA,GACA,KACA,EACA;UACA;QACA;MACA,GACA;QACAb,KAAA;QACAK,GAAA;QACAH,KAAA;QACAC,KAAA;QACAC,KAAA;QACAI,MAAA,EAAAA,CAAAC,CAAA,EAAAC,MAAA;UACA,OAAAD,CAAA,SACAA,CAAA,CACA;YACAM,KAAA;cACAd,IAAA;cACAe,IAAA;cACAC,IAAA;cACAC,KAAA;cACAC,QAAA,EAAAT,MAAA,CAAAC,GAAA,CAAAG;YACA;YACAF,KAAA;cACAQ,WAAA;YACA;YACAC,EAAA;cACAC,KAAA,EAAAA,CAAA;gBACA,KAAAC,OAAA,CAAAb,MAAA,CAAAC,GAAA;cACA;YACA;UACA,GACA,IACA,GACAF,CAAA,CACA;YACAM,KAAA;cACAd,IAAA;cACAe,IAAA;cACAC,IAAA;cACAC,KAAA;cACAC,QAAA,GAAAT,MAAA,CAAAC,GAAA,CAAAG;YACA;YACAF,KAAA;cACAQ,WAAA;YACA;YACAC,EAAA;cACAC,KAAA,EAAAA,CAAA;gBACA,KAAAE,eAAA,CAAAd,MAAA,CAAAC,GAAA;cACA;YACA;UACA,GACA,IACA,EACA;QACA;MACA,EACA;MACAc,QAAA;MACAC,eAAA;MACAC,aAAA;MACAC,UAAA;QACAxD,IAAA;MACA;MACAE,IAAA;MACAuD,KAAA;IACA;EACA;EACAC,OAAA;IACAC,KAAA;MACA,KAAAjE,WAAA;MACA;IACA;IACAkE,gBAAAC,CAAA;MACA,KAAA1C,UAAA,CAAAE,YAAA,GAAAwC,CAAA;IACA;IACAC,WAAAD,CAAA;MACA,KAAA1C,UAAA,CAAAG,UAAA,GAAAuC,CAAA;MACA,KAAAnE,WAAA;MACA,KAAAqE,cAAA;IACA;IACAC,eAAAH,CAAA;MACA,KAAA1C,UAAA,CAAAI,QAAA,GAAAsC,CAAA;MACA,KAAAnE,WAAA;IACA;IACAA,YAAA;MACA,KAAAgB,OAAA;MACAhB,WAAA,MAAAyB,UAAA,EAAA8C,IAAA,CAAAC,GAAA;QACA,KAAAxD,OAAA;QACA,IAAAwD,GAAA,CAAAC,OAAA;UACA,KAAAjE,IAAA,GAAAgE,GAAA,CAAAE,MAAA,CAAAC,OAAA;UACA,KAAAZ,KAAA,GAAAS,GAAA,CAAAE,MAAA,CAAAX,KAAA;QACA;MACA;IACA;IACAa,YAAA;MACA,KAAA5D,OAAA;MACAf,YAAA,MAAAwB,UAAA,EAAA8C,IAAA,CAAAC,GAAA;QACA,KAAAxD,OAAA;QACA,IAAAwD,GAAA,CAAAC,OAAA;UACA,KAAAjE,IAAA,GAAAgE,GAAA,CAAAE,MAAA,CAAAC,OAAA;UACA,KAAAZ,KAAA,GAAAS,GAAA,CAAAE,MAAA,CAAAX,KAAA;QACA;MACA;IACA;IACAL,gBAAAmB,CAAA;MACA,IAAAC,IAAA;MACA3E,kBAAA;QACA4E,EAAA,EAAAF,CAAA,CAAAE;MACA,GAAAR,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,OAAA;UACA,KAAAO,QAAA,CAAAP,OAAA;UACAK,IAAA,CAAA9E,WAAA;UACA;QACA;MACA;IACA;IACAyD,QAAAoB,CAAA;MACA,IAAAC,IAAA;MACA5E,UAAA;QACA6E,EAAA,EAAAF,CAAA,CAAAE;MACA,GAAAR,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,OAAA;UACA,KAAAO,QAAA,CAAAP,OAAA;UACAK,IAAA,CAAA9E,WAAA;UACA;QACA;MACA;IACA;IACAiF,aAAA;MACA,KAAAxD,UAAA,CAAAG,UAAA;MACA,KAAAH,UAAA,CAAAI,QAAA;MACA,KAAA7B,WAAA;IACA;IACAkF,YAAA;MACA,KAAAC,KAAA,CAAA1D,UAAA,CAAA2D,WAAA;MACA,KAAA3D,UAAA,CAAAG,UAAA;MACA,KAAAH,UAAA,CAAAI,QAAA;MACA,KAAAsD,KAAA,CAAAE,GAAA,CAAAC,WAAA;MACA,KAAA7D,UAAA,CAAAE,YAAA;MACA,KAAA3B,WAAA;IACA;IACAuF,WAAAV,CAAA;MACA,KAAApD,UAAA,CAAAK,IAAA,GAAA+C,CAAA,CAAAtC,GAAA;MACA,KAAAd,UAAA,CAAAM,KAAA,GAAA8C,CAAA,CAAA9C,KAAA;MACA,IAAA8C,CAAA,CAAA9C,KAAA;QACA,KAAAN,UAAA,CAAAM,KAAA;MACA;MACA,KAAA/B,WAAA;IACA;IACAwF,mBAAAC,IAAA;MACA,KAAA3B,UAAA,GAAA2B,IAAA;MACA,MAAAC,OAAA,GAAAD,IAAA,CAAAnF,IAAA,CACAqF,KAAA,MACAC,GAAA,GACAC,iBAAA;MACA,IAAAH,OAAA,cAAAA,OAAA;QACA,KAAAI,QAAA,CAAAL,IAAA;QACA,KAAAA,IAAA,GAAAA,IAAA;MACA;QACA,KAAAT,QAAA,CAAAe,KAAA;MACA;MACA;IACA;IACAC,gBAAA;MACA,KAAApC,eAAA;MACA,KAAAC,aAAA;MACA,KAAAC,UAAA;IACA;IACAmC,WAAApB,CAAA;MACA,KAAArD,UAAA,GAAAqD,CAAA;MACA,KAAAtD,WAAA,GAAAsD,CAAA,CAAAqB,MAAA;IACA;IACA7B,eAAA;MACA,KAAAc,KAAA,CAAAgB,KAAA,CAAAC,SAAA;IACA;IACAC,SAAAxD,GAAA,EAAAyD,KAAA;MACA,KAAAzF,SAAA,GAAAgC,GAAA;IACA;IACA0D,aAAA1D,GAAA,EAAAyD,KAAA;MACA,IAAAzD,GAAA,CAAAkC,EAAA,SAAAlE,SAAA,CAAAkE,EAAA;QACA;MACA;MACA;IACA;EACA;EACAyB,QAAA;IACA,KAAA5F,MAAA,GAAA6F,MAAA,CAAAC,WAAA,QAAAvB,KAAA,CAAAgB,KAAA,CAAAQ,GAAA,CAAAC,SAAA;IACA,KAAA3C,IAAA;IACA,KAAA4C,SAAA,QAAA5E,OAAA;IACA,IAAA6E,WAAA;IACA,SAAAC,CAAA,MAAAA,CAAA,QAAAtG,QAAA,CAAAyF,MAAA,EAAAa,CAAA;MACA,IAAAC,IAAA,QAAAvG,QAAA,CAAAsG,CAAA;MACA,SAAAE,CAAA,MAAAA,CAAA,QAAAhF,OAAA,CAAAiE,MAAA,EAAAe,CAAA;QACA,SAAAhF,OAAA,CAAAgF,CAAA,EAAA/E,KAAA,IAAA8E,IAAA;UACAF,WAAA,CAAAI,IAAA,MAAAjF,OAAA,CAAAgF,CAAA;QACA;MACA;IACA;IACA,KAAAhF,OAAA,GAAA6E,WAAA;EACA;EACAK,KAAA;IACA1G,QAAA,WAAAA,CAAA2G,UAAA;MACA,IAAAN,WAAA;MACA,SAAAC,CAAA,MAAAA,CAAA,QAAAF,SAAA,CAAAX,MAAA,EAAAa,CAAA;QACA,IAAAC,IAAA,QAAAH,SAAA,CAAAE,CAAA;QACA,IAAAC,IAAA,CAAA9E,KAAA,IAAAmF,SAAA,EAAAP,WAAA,CAAAI,IAAA,CAAAF,IAAA,OACA,IAAAI,UAAA,CAAAE,QAAA,CAAAN,IAAA,CAAA9E,KAAA,GAAA4E,WAAA,CAAAI,IAAA,CAAAF,IAAA;MACA;MACA,KAAA/E,OAAA,GAAA6E,WAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}