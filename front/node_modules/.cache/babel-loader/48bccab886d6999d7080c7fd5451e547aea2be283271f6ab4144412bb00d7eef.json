{"ast":null,"code":"import Cookies from \"js-cookie\";\nimport { ipInfo, getMyDoorList6, getOnHome } from \"./api.js\";\nexport default {\n  name: \"home\",\n  data() {\n    return {\n      name: \"\",\n      showtime: \"\",\n      showtime2: \"\",\n      location: \"公司内网\",\n      addMenuTempList: [],\n      number1: 0,\n      number2: 0,\n      number3: 0,\n      number1List: [],\n      number2List: [],\n      number3List: [],\n      notices: []\n    };\n  },\n  created() {\n    this.loadNotice();\n  },\n  methods: {\n    init() {\n      this.getMyDoorListFx();\n      let user = JSON.parse(Cookies.get(\"userInfo\"));\n      this.name = user.nickname;\n      this.getNowTime();\n      ipInfo().then(res => {\n        if (res.success) {\n          this.location = res.result;\n        }\n      });\n      this.timer = setInterval(this.getNowTime, 1000);\n    },\n    selectItem(e) {\n      if (e.name != undefined && e.name != \"null\") {\n        this.$router.push({\n          name: e.name\n        });\n      }\n    },\n    toDaiBanPage() {\n      this.$Message.success(\"正在开发，敬请期待！\");\n    },\n    toFaQiPage() {\n      this.$Message.success(\"正在开发，敬请期待！\");\n    },\n    toJingBanPage() {\n      this.$Message.success(\"正在开发，敬请期待！\");\n    },\n    toOwnMenu() {\n      this.$router.push(\"/myHome\");\n    },\n    getMyDoorListFx() {\n      var that = this;\n      getMyDoorList6().then(res => {\n        that.addMenuTempList = res.result;\n      });\n    },\n    getNowTime() {\n      this.showtime = this.format(new Date(), \"yyyy年MM月dd日\");\n      this.showtime2 = this.format(new Date(), \"HH:mm:dd\");\n    },\n    loadNotice() {\n      getOnHome().then(res => {\n        this.notices = res.result.slice(0, 3); //只展示最新的三条公告\n      });\n    }\n  },\n  mounted() {\n    this.init();\n    this.clientHeight = `${document.documentElement.clientHeight}`;\n    let that = this;\n    window.onresize = function () {\n      this.clientHeight = `${document.documentElement.clientHeight}`;\n      if (that.$refs.page) {\n        that.$refs.page.style.minHeight = clientHeight - 100 + \"px\";\n      }\n    };\n  },\n  watch: {\n    clientHeight() {\n      this.changeFixed(this.clientHeight);\n    }\n  }\n};","map":{"version":3,"names":["Cookies","ipInfo","getMyDoorList6","getOnHome","name","data","showtime","showtime2","location","addMenuTempList","number1","number2","number3","number1List","number2List","number3List","notices","created","loadNotice","methods","init","getMyDoorListFx","user","JSON","parse","get","nickname","getNowTime","then","res","success","result","timer","setInterval","selectItem","e","undefined","$router","push","toDaiBanPage","$Message","toFaQiPage","toJingBanPage","toOwnMenu","that","format","Date","slice","mounted","clientHeight","document","documentElement","window","onresize","$refs","page","style","minHeight","watch","changeFixed"],"sources":["src/views/home/home.vue"],"sourcesContent":["<template>\r\n  <div :style=\"{ height: clientHeight }\" class=\"topDiv\">\r\n    <Row :gutter=\"20\">\r\n      <!-- 主体部分 -->\r\n      <div class=\"body\">\r\n        <!--logo标题图片 -->\r\n        <img class=\"title\" src=\"../../assets/LZUBadge.png\" alt=\"\" />\r\n        <!--第二排内容 -->\r\n        <div class=\"awayMenu\">\r\n          <!--左侧 -->\r\n          <div class=\"awayLeft\">\r\n            <span class=\"manage2\">\r\n              欢迎\r\n              <!--用户名称 -->\r\n              <span>{{ name }}</span>\r\n            </span>\r\n            <!--登入地址 -->\r\n            <div class=\"manage\">登入地址：{{ location }}</div>\r\n          </div>\r\n          <!--时间，上下布局 -->\r\n          <div class=\"bottom\">\r\n            <!--年月日 -->\r\n            <span class=\"showtime\">{{ showtime }}</span>\r\n            <!--时分 -->\r\n            <span class=\"showtime2\">{{ showtime2 }}</span>\r\n          </div>\r\n        </div>\r\n        <!--三层标题 -->\r\n        <div class=\"bigTips\">\r\n          <span style=\"color: rgba(255, 255, 255, 0.8)\">常用模块</span>\r\n          <span> </span>\r\n        </div>\r\n        <!--常用按钮层 -->\r\n        <div class=\"buttonMenu\">\r\n          <!--常用按钮盒子 -->\r\n          <div class=\"addMenuBox\">\r\n            <!--循环遍历按钮 -->\r\n            <div\r\n              class=\"addMenu\"\r\n              v-for=\"(item, index) in addMenuTempList\"\r\n              :key=\"index\"\r\n              @click=\"selectItem(item)\"\r\n            >\r\n              {{ item.title }}\r\n            </div>\r\n          </div>\r\n          <!--分隔线 -->\r\n          <div class=\"shu\"></div>\r\n          <!-- 下面是公告  -->\r\n\r\n            <div>\r\n            <div style=\"width: 500px; margin-bottom: -20px;\">\r\n                <div style=\"margin-bottom: 15px; font-size: 20px; font-weight: bold; color: white; margin-left: 220px; margin-bottom: 20px;\">系统公告</div>\r\n            <Timeline>\r\n                <Timeline-item v-for=\"item in notices\" :key=\"item.id\" :timestamp=\"item.createTime\" placement=\"top\">\r\n                    <Card style=\"background-color: rgba(255, 255, 255, 0.4); \">\r\n                        <h3 style=\"color: aliceblue; text-align: center;\">{{ item.title }}</h3>\r\n                        <p style=\"color: aliceblue; text-align: center;\">{{ item.remark }}</p>\r\n                        <p style=\"color: aliceblue;\">发布时间：{{ item.createTime }}</p>\r\n                    </Card>\r\n                </Timeline-item>\r\n                <!-- <Timeline-item timestamp=\"2018/4/3\" placement=\"top\">\r\n                    <Card>\r\n                        <h4>更新 Github 模板</h4>\r\n                        <p>1234 提交于 2018/4/3 20:46</p>\r\n                    </Card>\r\n                </Timeline-item>\r\n                <Timeline-item timestamp=\"2018/4/3\" placement=\"top\">\r\n                    <Card>\r\n                        <h4>更新 Github 模板</h4>\r\n                        <p>王小虎 提交于 2018/4/3 20:46</p>\r\n                    </Card>\r\n                </Timeline-item>\r\n                <Timeline-item timestamp=\"2018/4/3\" placement=\"top\">\r\n                    <Card>\r\n                        <h4>更新 Github 模板</h4>\r\n                        <p>王小虎 提交于 2018/4/3 20:46</p>\r\n                    </Card>\r\n                </Timeline-item> -->\r\n            </Timeline>\r\n          </div>\r\n        </div>\r\n        </div>\r\n        <!--左下角提升语句，点击跳转盒子-->\r\n        <div class=\"bottomText\" @click=\"toOwnMenu\">\r\n          添加\"常用模块\"? 点我 进入个人门户设置\r\n        </div>\r\n      </div>\r\n    </Row>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Cookies from \"js-cookie\";\r\nimport { ipInfo, getMyDoorList6, getOnHome } from \"./api.js\";\r\nexport default {\r\n  name: \"home\",\r\n  data() {\r\n    return {\r\n      name: \"\",\r\n      showtime: \"\",\r\n      showtime2: \"\",\r\n      location: \"公司内网\",\r\n      addMenuTempList: [],\r\n      number1: 0,\r\n      number2: 0,\r\n      number3: 0,\r\n      number1List: [],\r\n      number2List: [],\r\n      number3List: [],\r\n      notices: [],\r\n    }\r\n  },\r\n  created() {\r\n    this.loadNotice()\r\n  },\r\n\r\n  methods: {\r\n    init() {\r\n      this.getMyDoorListFx();\r\n      let user = JSON.parse(Cookies.get(\"userInfo\"));\r\n      this.name = user.nickname;\r\n      this.getNowTime();\r\n      ipInfo().then((res) => {\r\n        if (res.success) {\r\n          this.location = res.result;\r\n        }\r\n      });\r\n      this.timer = setInterval(this.getNowTime, 1000);\r\n    },\r\n\r\n\r\n    selectItem(e) {\r\n      if (e.name != undefined && e.name != \"null\") {\r\n        this.$router.push({\r\n          name: e.name,\r\n        });\r\n      }\r\n    },\r\n    toDaiBanPage() {\r\n      this.$Message.success(\"正在开发，敬请期待！\");\r\n    },\r\n    toFaQiPage() {\r\n      this.$Message.success(\"正在开发，敬请期待！\");\r\n    },\r\n    toJingBanPage() {\r\n      this.$Message.success(\"正在开发，敬请期待！\");\r\n    },\r\n    toOwnMenu() {\r\n      this.$router.push(\"/myHome\");\r\n    },\r\n    getMyDoorListFx() {\r\n      var that = this;\r\n      getMyDoorList6().then((res) => {\r\n        that.addMenuTempList = res.result;\r\n      });\r\n    },\r\n    getNowTime() {\r\n      this.showtime = this.format(new Date(), \"yyyy年MM月dd日\");\r\n      this.showtime2 = this.format(new Date(), \"HH:mm:dd\");                                                                     \r\n    },\r\n\r\n    loadNotice() {\r\n      getOnHome().then(res => {\r\n        this.notices = res.result.slice(0, 3); //只展示最新的三条公告\r\n      });\r\n    }\r\n\r\n  },\r\n  mounted() {\r\n    this.init();\r\n    this.clientHeight = `${document.documentElement.clientHeight}`;\r\n    let that = this;\r\n    window.onresize = function () {\r\n      this.clientHeight = `${document.documentElement.clientHeight}`;\r\n      if (that.$refs.page) {\r\n        that.$refs.page.style.minHeight = clientHeight - 100 + \"px\";\r\n      }\r\n    };\r\n  },\r\n  watch: {\r\n    clientHeight() {\r\n      this.changeFixed(this.clientHeight);\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n@import \"./home.less\";\r\n\r\n.filter-panel {\r\n    width: 166px;\r\n    min-height: 120px;\r\n    height: 200px;\r\n    position: absolute;\r\n    background-color: white;\r\n    z-index: 9999;\r\n    margin-left: 1px;\r\n    overflow-y: scroll;\r\n    border: 1px solid blue;\r\n    top: 35px;\r\n    right: 10px;\r\n}\r\n\r\n.ivu-tooltip {\r\n  width: 100% !important;\r\n}\r\n\r\n.margin {\r\n  margin-bottom: 20px;\r\n}\r\n\r\n.awayLeft {\r\n  width: 60%;\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.bottom {\r\n  width: 30%;\r\n  margin-left: 10%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n.title {\r\n  width: 30%;\r\n  margin: 5vh 0;\r\n  max-height: 130px;\r\n}\r\n\r\n.awayMenu {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n}\r\n\r\n.manage {\r\n  width: 40%;\r\n  height: 100%;\r\n  font-family: Microsoft YaHei;\r\n  font-size: 20px;\r\n  display: flex;\r\n  align-items: center;\r\n  color: rgb(255, 255, 255, 0.7);\r\n}\r\n\r\n.manage2 {\r\n  width: 60%;\r\n  height: 100%;\r\n  font-size: 28px;\r\n  display: flex;\r\n  align-items: center;\r\n  color: rgb(255, 255, 255, 0.7);\r\n}\r\n\r\n.buttonMenu {\r\n  width: 100%;\r\n  display: flex;\r\n}\r\n\r\n.bigTips {\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: left;\r\n  align-items: center;\r\n  margin-top: 3vh;\r\n  margin-bottom: 3vh;\r\n  font-size: 20px;\r\n}\r\n\r\n.addMenuBox {\r\n  width: 50%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: space-between;\r\n  flex-wrap: wrap;\r\n\r\n  .addMenu {\r\n    width: 45%;\r\n    // min-width: 180px;\r\n    height: 22%;\r\n    margin: 2% 2.5%;\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n    background-color: rgba(255, 255, 255, 0.4);\r\n    border-radius: 20px;\r\n    color: #fff;\r\n    font-size: 20px;\r\n  }\r\n}\r\n\r\n.addMenu :nth-child(5) {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.addMenu :nth-child(6) {\r\n  margin-bottom: 0;\r\n}\r\n\r\n.shu {\r\n  width: 0.2%;\r\n  margin: 0 9.9%;\r\n  background-color: #4c4c4c;\r\n}\r\n\r\n.threeButton {\r\n  width: 30%;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n}\r\n\r\n.showtime {\r\n  font-family: Microsoft YaHei;\r\n  font-size: 22px;\r\n  letter-spacing: 1px;\r\n  color: rgb(255, 255, 255);\r\n  font-weight: 100;\r\n  text-align: center;\r\n}\r\n\r\n.showtime2 {\r\n  font-family: Microsoft YaHei;\r\n  font-size: 26px;\r\n  font-weight: 500;\r\n  letter-spacing: 1px;\r\n  color: rgb(255, 255, 255);\r\n  text-align: center;\r\n}\r\n\r\n.homeThreeIcon {\r\n  opacity: 1;\r\n  height: 25px;\r\n  width: 25px;\r\n  margin-right: 10%;\r\n}\r\n\r\n.button {\r\n  width: 60%;\r\n  height: 28%;\r\n  min-width: 310px;\r\n  max-width: 860px;\r\n  max-height: 80px;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  background-color: rgba(255, 255, 255, 0.3);\r\n  border-radius: 10px;\r\n  padding: 20px;\r\n  margin: 0 auto;\r\n  z-index: 99;\r\n\r\n  .left {\r\n    width: 60%;\r\n    min-width: 150;\r\n    display: flex;\r\n    align-items: center;\r\n  }\r\n\r\n  .text {\r\n    color: #fff;\r\n    font-size: 20px;\r\n    position: relative;\r\n  }\r\n\r\n  .shu {\r\n    width: 1px !important;\r\n    height: 100%;\r\n    max-height: 35px;\r\n    background-color: #fff;\r\n  }\r\n\r\n  .number {\r\n    font-size: 22px;\r\n    color: #fff;\r\n  }\r\n}\r\n\r\n.bottomText {\r\n  opacity: 0.7;\r\n  width: 100%;\r\n  margin-top: 7vh;\r\n  text-align: left;\r\n  font-size: 16px;\r\n  color: #e6e6e6;\r\n  text-decoration: underline;\r\n}\r\n\r\n.textBox {\r\n  width: 800px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: left;\r\n  padding: 0 10%;\r\n\r\n  .text {\r\n    font-size: 16px;\r\n    margin: 3px 0;\r\n    border-bottom: 1px solid #777;\r\n\r\n    .one {\r\n      display: flex;\r\n      align-items: center;\r\n\r\n      .xuhao {\r\n        width: 20%;\r\n        min-width: 50px;\r\n        background-color: #ff9900;\r\n        border: 1px solid #ff9900;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        border-radius: 5px;\r\n        padding: 3px;\r\n        margin-right: 8px;\r\n      }\r\n\r\n      .floar {\r\n        width: 85%;\r\n        display: flex;\r\n        justify-content: center;\r\n        font-size: 16px;\r\n        font-family: \"Fantasy\";\r\n        font-weight: 500;\r\n        margin-right: 30px;\r\n      }\r\n    }\r\n\r\n    .two {\r\n      display: flex;\r\n      margin: 5px 0;\r\n      align-items: center;\r\n      justify-content: space-between;\r\n\r\n      .twoItem {\r\n        width: 35%;\r\n        font-size: 12px;\r\n      }\r\n\r\n      .twoItem2 {\r\n        width: 65%;\r\n        display: flex;\r\n        justify-content: center;\r\n        font-size: 12px;\r\n      }\r\n    }\r\n  }\r\n}\r\n</style>\r\n"],"mappings":"AA6FA,OAAAA,OAAA;AACA,SAAAC,MAAA,EAAAC,cAAA,EAAAC,SAAA;AACA;EACAC,IAAA;EACAC,KAAA;IACA;MACAD,IAAA;MACAE,QAAA;MACAC,SAAA;MACAC,QAAA;MACAC,eAAA;MACAC,OAAA;MACAC,OAAA;MACAC,OAAA;MACAC,WAAA;MACAC,WAAA;MACAC,WAAA;MACAC,OAAA;IACA;EACA;EACAC,QAAA;IACA,KAAAC,UAAA;EACA;EAEAC,OAAA;IACAC,KAAA;MACA,KAAAC,eAAA;MACA,IAAAC,IAAA,GAAAC,IAAA,CAAAC,KAAA,CAAAxB,OAAA,CAAAyB,GAAA;MACA,KAAArB,IAAA,GAAAkB,IAAA,CAAAI,QAAA;MACA,KAAAC,UAAA;MACA1B,MAAA,GAAA2B,IAAA,CAAAC,GAAA;QACA,IAAAA,GAAA,CAAAC,OAAA;UACA,KAAAtB,QAAA,GAAAqB,GAAA,CAAAE,MAAA;QACA;MACA;MACA,KAAAC,KAAA,GAAAC,WAAA,MAAAN,UAAA;IACA;IAGAO,WAAAC,CAAA;MACA,IAAAA,CAAA,CAAA/B,IAAA,IAAAgC,SAAA,IAAAD,CAAA,CAAA/B,IAAA;QACA,KAAAiC,OAAA,CAAAC,IAAA;UACAlC,IAAA,EAAA+B,CAAA,CAAA/B;QACA;MACA;IACA;IACAmC,aAAA;MACA,KAAAC,QAAA,CAAAV,OAAA;IACA;IACAW,WAAA;MACA,KAAAD,QAAA,CAAAV,OAAA;IACA;IACAY,cAAA;MACA,KAAAF,QAAA,CAAAV,OAAA;IACA;IACAa,UAAA;MACA,KAAAN,OAAA,CAAAC,IAAA;IACA;IACAjB,gBAAA;MACA,IAAAuB,IAAA;MACA1C,cAAA,GAAA0B,IAAA,CAAAC,GAAA;QACAe,IAAA,CAAAnC,eAAA,GAAAoB,GAAA,CAAAE,MAAA;MACA;IACA;IACAJ,WAAA;MACA,KAAArB,QAAA,QAAAuC,MAAA,KAAAC,IAAA;MACA,KAAAvC,SAAA,QAAAsC,MAAA,KAAAC,IAAA;IACA;IAEA5B,WAAA;MACAf,SAAA,GAAAyB,IAAA,CAAAC,GAAA;QACA,KAAAb,OAAA,GAAAa,GAAA,CAAAE,MAAA,CAAAgB,KAAA;MACA;IACA;EAEA;EACAC,QAAA;IACA,KAAA5B,IAAA;IACA,KAAA6B,YAAA,MAAAC,QAAA,CAAAC,eAAA,CAAAF,YAAA;IACA,IAAAL,IAAA;IACAQ,MAAA,CAAAC,QAAA;MACA,KAAAJ,YAAA,MAAAC,QAAA,CAAAC,eAAA,CAAAF,YAAA;MACA,IAAAL,IAAA,CAAAU,KAAA,CAAAC,IAAA;QACAX,IAAA,CAAAU,KAAA,CAAAC,IAAA,CAAAC,KAAA,CAAAC,SAAA,GAAAR,YAAA;MACA;IACA;EACA;EACAS,KAAA;IACAT,aAAA;MACA,KAAAU,WAAA,MAAAV,YAAA;IACA;EACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}